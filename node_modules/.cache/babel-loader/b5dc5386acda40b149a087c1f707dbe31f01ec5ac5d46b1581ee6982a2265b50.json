{"ast":null,"code":"import { isIos, nextTick, raf } from '@zag-js/dom-query';\n\n// src/index.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */new WeakMap();\nfunction disableTextSelectionImpl() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({\n    target,\n    doc: docNode\n  });\n}\nfunction restoreTextSelection() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    target,\n    doc\n  } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection() {\n  let options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  const {\n    defer,\n    target,\n    ...restOptions\n  } = options;\n  const func = defer ? raf : v => v();\n  const cleanups = [];\n  cleanups.push(func(() => {\n    const node = typeof target === \"function\" ? target() : target;\n    cleanups.push(disableTextSelectionImpl({\n      ...restOptions,\n      target: node\n    }));\n  }));\n  return () => {\n    cleanups.forEach(fn => fn?.());\n  };\n}\nexport { disableTextSelection, restoreTextSelection };","map":{"version":3,"names":["isIos","nextTick","raf","state","userSelect","elementMap","WeakMap","disableTextSelectionImpl","options","arguments","length","undefined","target","doc","docNode","document","rootEl","documentElement","style","webkitUserSelect","set","restoreTextSelection","setTimeout","has","prevUserSelect","get","getAttribute","removeAttribute","delete","disableTextSelection","defer","restOptions","func","v","cleanups","push","node","forEach","fn"],"sources":["/Users/rishil/AIM-MedVisor/node_modules/@ark-ui/react/node_modules/@zag-js/text-selection/dist/index.mjs"],"sourcesContent":["import { isIos, nextTick, raf } from '@zag-js/dom-query';\n\n// src/index.ts\nvar state = \"default\";\nvar userSelect = \"\";\nvar elementMap = /* @__PURE__ */ new WeakMap();\nfunction disableTextSelectionImpl(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state === \"default\") {\n      userSelect = rootEl.style.webkitUserSelect;\n      rootEl.style.webkitUserSelect = \"none\";\n    }\n    state = \"disabled\";\n  } else if (target) {\n    elementMap.set(target, target.style.userSelect);\n    target.style.userSelect = \"none\";\n  }\n  return () => restoreTextSelection({ target, doc: docNode });\n}\nfunction restoreTextSelection(options = {}) {\n  const { target, doc } = options;\n  const docNode = doc ?? document;\n  const rootEl = docNode.documentElement;\n  if (isIos()) {\n    if (state !== \"disabled\") return;\n    state = \"restoring\";\n    setTimeout(() => {\n      nextTick(() => {\n        if (state === \"restoring\") {\n          if (rootEl.style.webkitUserSelect === \"none\") {\n            rootEl.style.webkitUserSelect = userSelect || \"\";\n          }\n          userSelect = \"\";\n          state = \"default\";\n        }\n      });\n    }, 300);\n  } else {\n    if (target && elementMap.has(target)) {\n      const prevUserSelect = elementMap.get(target);\n      if (target.style.userSelect === \"none\") {\n        target.style.userSelect = prevUserSelect ?? \"\";\n      }\n      if (target.getAttribute(\"style\") === \"\") {\n        target.removeAttribute(\"style\");\n      }\n      elementMap.delete(target);\n    }\n  }\n}\nfunction disableTextSelection(options = {}) {\n  const { defer, target, ...restOptions } = options;\n  const func = defer ? raf : (v) => v();\n  const cleanups = [];\n  cleanups.push(\n    func(() => {\n      const node = typeof target === \"function\" ? target() : target;\n      cleanups.push(disableTextSelectionImpl({ ...restOptions, target: node }));\n    })\n  );\n  return () => {\n    cleanups.forEach((fn) => fn?.());\n  };\n}\n\nexport { disableTextSelection, restoreTextSelection };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}